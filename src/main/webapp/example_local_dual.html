<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ko" lang="ko">
<head>
    <title>OpenGraph Example</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=EmulateIE8">
    <link rel="stylesheet" type="text/css"
          href="../javascript/lib/jquery-1.7.2/ui-lightness/jquery-ui-1.8.19.custom.css"/>
    <link rel="stylesheet" type="text/css" href="../javascript/lib/jquery-1.7.2/contextmenu/jquery.contextMenu.css"/>
    <script type="text/javascript" src="../javascript/lib/jquery-1.7.2/jquery-1.7.2.min.js"></script>
    <script type="text/javascript" src="../javascript/lib/jquery-1.7.2/jquery-ui-1.8.19.custom.min.js"></script>
    <script type="text/javascript" src="../javascript/lib/jquery-1.7.2/jquery.contextMenu.js"></script>
    <script type="text/javascript" src="../javascript/lib/raphael-2.1.0/raphael-custom.js"></script>
    <script type="text/javascript" src="../javascript/OpenGraph-0.1-SNAPSHOT.js"></script>
    <script type="text/javascript" src="../javascript/src/graph/Canvas.js"></script>
    <script type="text/javascript" src="../javascript/src/handler/EventHandler.js"></script>
    <script type="text/javascript" src="../javascript/src/renderer/RaphaelRenderer.js"></script>
    <script type="text/javascript">
        var canvas1, canvas2;

        window.onload = function () {
            canvas1();
            canvas2();
        };

        function canvas1() {
            var circleShape = new OG.CircleShape();
            var ellipseShape = new OG.EllipseShape('label');
            var rectangleShape1 = new OG.RectangleShape('label');
            var rectangleShape2 = new OG.RectangleShape('label');
            var rectangleShape3 = new OG.RectangleShape('label');
            var rectangleShape4 = new OG.RectangleShape();
            var imageShape = new OG.ImageShape('http://static.naver.net/www/u/2010/0611/nmms_215646753.gif', 'label');
            var textShape1 = new OG.TextShape("Text Here, Hello World!");
            var textShape2 = new OG.TextShape("Text Here, Hello World!");
            var textShape3 = new OG.TextShape("Canvas1");
            var textShape4 = new OG.TextShape("Text Here, Hello World!");
            var textShape5 = new OG.TextShape("Text Here, Hello World!");
            var edgeShape1 = new OG.EdgeShape([450, 50], [600, 50], '', 'from', 'to');
            var edgeShape2 = new OG.EdgeShape([450, 100], [600, 100], 'label');
            var edgeShape3 = new OG.EdgeShape([450, 150], [600, 150], 'label');
            var edgeShape4 = new OG.EdgeShape([450, 200], [600, 200], 'label', '1', '1..n');
            var edgeShape5 = new OG.EdgeShape([450, 250], [600, 300], 'label');
            var edgeShape6 = new OG.EdgeShape([500, 350], [550, 500], 'label');
            var edgeShape7 = new OG.EdgeShape([450, 500], [600, 550], 'label');
            var group1 = new OG.GroupShape('group');
            var foreignShape1 = new OG.HtmlShape('<table width="100%" height="100px" border="1" cellspacing="0"><tr><td>name1</td><td>value1</td></tr><tr><td>name2</td><td>value2</td></tr></table>');

            canvas1 = new OG.Canvas('canvas1', [1000, 600]);

            canvas1.drawShape([100, 100], circleShape, [100, 100], {stroke: 'red', 'text-anchor': 'end', 'vertical-align': 'middle'});
            canvas1.drawShape([100, 200], ellipseShape, [100, 50], {fill: '#0000ff', 'fill-opacity': 0.5});
            canvas1.drawShape([100, 300], rectangleShape1, [100, 50], {'font-color': 'red', 'font-size': 12, 'label-position': 'right', 'text-anchor': 'start', 'vertical-align': 'middle'});
            canvas1.drawShape([100, 400], rectangleShape2, [100, 50], {stroke: 'blue', 'stroke-dasharray': '-', 'label-position': 'top', 'text-anchor': 'middle', 'vertical-align': 'bottom'});
            canvas1.drawShape([800, 100], rectangleShape3, [150, 100], {'font-size': 15, 'text-anchor': 'end', 'vertical-align': 'top'});
            canvas1.drawShape([800, 200], rectangleShape4, [100, 50]);
            canvas1.drawShape([100, 500], imageShape, [150, 50, 45], {'text-anchor': 'middle', 'vertical-align': 'top'});
            canvas1.drawShape([300, 100], textShape1, [200, 100, 45], {'font-size': 10, 'text-anchor': 'start', 'vertical-align': 'middle'});
            canvas1.drawShape([300, 200], textShape2, [200, 100], {'font-size': 15, 'text-anchor': 'middle', 'vertical-align': 'top'});
            canvas1.drawShape([300, 300], textShape3, [200, 100], {'font-size': 20, 'text-anchor': 'end', 'vertical-align': 'top'});
            canvas1.drawShape([300, 400], textShape4, [200, 100], {'font-size': 25, 'text-anchor': 'middle', 'vertical-align': 'bottom'});
            canvas1.drawShape([300, 500], textShape5, [200, 100], {'font-size': 30, 'text-anchor': 'end', 'vertical-align': 'bottom'});
            canvas1.drawShape(null, edgeShape1, null, {'edge-type': 'plain', "arrow-start": "none", "arrow-end": "open-wide-long"});
            canvas1.drawShape(null, edgeShape2, null, {'edge-type': 'straight', "arrow-start": "classic-wide-long", "arrow-end": "block-wide-long", 'stroke-dasharray': '-', 'stroke-width': 4});
            canvas1.drawShape(null, edgeShape3, null, {'edge-type': 'straight', "arrow-start": "none", "arrow-end": "diamond-wide-long", 'stroke-dasharray': '.', 'stroke-width': 6});
            canvas1.drawShape(null, edgeShape4, null, {'edge-type': 'straight', "arrow-start": "none", "arrow-end": "oval-wide-long", 'stroke-dasharray': '-.'});
            canvas1.drawShape(null, edgeShape5, null, {'edge-type': 'plain', "arrow-start": "none", "arrow-end": "block-wide-long", 'stroke-dasharray': '-..', 'font-size': 15, 'font-color': 'red', 'text-anchor': 'middle', 'vertical-align': 'top'});
            canvas1.drawShape(null, edgeShape6, null, {'edge-type': 'plain', "arrow-start": "none", "arrow-end": "block-wide-long", 'stroke-dasharray': '--'});
            canvas1.drawShape(null, edgeShape7, null, {'edge-type': 'straight', "arrow-start": "none", "arrow-end": "block-wide-long", 'stroke-dasharray': '--..'});
            canvas1.drawShape([800, 350], group1, [200, 100], {stroke: 'black'});
            canvas1.drawShape([800, 500], foreignShape1, [200, 100]);
        }

        function canvas2() {
            var circleShape = new OG.CircleShape();
            var ellipseShape = new OG.EllipseShape('label');
            var rectangleShape1 = new OG.RectangleShape('label');
            var rectangleShape2 = new OG.RectangleShape('label');
            var rectangleShape3 = new OG.RectangleShape('label');
            var rectangleShape4 = new OG.RectangleShape();
            var imageShape = new OG.ImageShape('http://static.naver.net/www/u/2010/0611/nmms_215646753.gif', 'label');
            var textShape1 = new OG.TextShape("Text Here, Hello World!");
            var textShape2 = new OG.TextShape("Text Here, Hello World!");
            var textShape3 = new OG.TextShape("Canvas2");
            var textShape4 = new OG.TextShape("Text Here, Hello World!");
            var textShape5 = new OG.TextShape("Text Here, Hello World!");
            var edgeShape1 = new OG.EdgeShape([450, 50], [600, 50], '', 'from', 'to');
            var edgeShape2 = new OG.EdgeShape([450, 100], [600, 100], 'label');
            var edgeShape3 = new OG.EdgeShape([450, 150], [600, 150], 'label');
            var edgeShape4 = new OG.EdgeShape([450, 200], [600, 200], 'label', '1', '1..n');
            var edgeShape5 = new OG.EdgeShape([450, 250], [600, 300], 'label');
            var edgeShape6 = new OG.EdgeShape([500, 350], [550, 500], 'label');
            var edgeShape7 = new OG.EdgeShape([450, 500], [600, 550], 'label');
            var group1 = new OG.GroupShape('group');
            var foreignShape1 = new OG.HtmlShape('<table width="100%" height="100px" border="1" cellspacing="0"><tr><td>name1</td><td>value1</td></tr><tr><td>name2</td><td>value2</td></tr></table>');

            canvas2 = new OG.Canvas('canvas2', [1000, 600]);

            canvas2.drawShape([100, 100], circleShape, [100, 100], {stroke: 'red', 'text-anchor': 'end', 'vertical-align': 'middle'});
            canvas2.drawShape([100, 200], ellipseShape, [100, 50], {fill: '#0000ff', 'fill-opacity': 0.5});
            canvas2.drawShape([100, 300], rectangleShape1, [100, 50], {'font-color': 'red', 'font-size': 12, 'label-position': 'right', 'text-anchor': 'start', 'vertical-align': 'middle'});
            canvas2.drawShape([100, 400], rectangleShape2, [100, 50], {stroke: 'blue', 'stroke-dasharray': '-', 'label-position': 'top', 'text-anchor': 'middle', 'vertical-align': 'bottom'});
            canvas2.drawShape([800, 100], rectangleShape3, [150, 100], {'font-size': 15, 'text-anchor': 'end', 'vertical-align': 'top'});
            canvas2.drawShape([800, 200], rectangleShape4, [100, 50]);
            canvas2.drawShape([100, 500], imageShape, [150, 50, 45], {'text-anchor': 'middle', 'vertical-align': 'top'});
            canvas2.drawShape([300, 100], textShape1, [200, 100, 45], {'font-size': 10, 'text-anchor': 'start', 'vertical-align': 'middle'});
            canvas2.drawShape([300, 200], textShape2, [200, 100], {'font-size': 15, 'text-anchor': 'middle', 'vertical-align': 'top'});
            canvas2.drawShape([300, 300], textShape3, [200, 100], {'font-size': 20, 'text-anchor': 'end', 'vertical-align': 'top'});
            canvas2.drawShape([300, 400], textShape4, [200, 100], {'font-size': 25, 'text-anchor': 'middle', 'vertical-align': 'bottom'});
            canvas2.drawShape([300, 500], textShape5, [200, 100], {'font-size': 30, 'text-anchor': 'end', 'vertical-align': 'bottom'});
            canvas2.drawShape(null, edgeShape1, null, {'edge-type': 'plain', "arrow-start": "none", "arrow-end": "open-wide-long"});
            canvas2.drawShape(null, edgeShape2, null, {'edge-type': 'straight', "arrow-start": "classic-wide-long", "arrow-end": "block-wide-long", 'stroke-dasharray': '-', 'stroke-width': 4});
            canvas2.drawShape(null, edgeShape3, null, {'edge-type': 'straight', "arrow-start": "none", "arrow-end": "diamond-wide-long", 'stroke-dasharray': '.', 'stroke-width': 6});
            canvas2.drawShape(null, edgeShape4, null, {'edge-type': 'straight', "arrow-start": "none", "arrow-end": "oval-wide-long", 'stroke-dasharray': '-.'});
            canvas2.drawShape(null, edgeShape5, null, {'edge-type': 'plain', "arrow-start": "none", "arrow-end": "block-wide-long", 'stroke-dasharray': '-..', 'font-size': 15, 'font-color': 'red', 'text-anchor': 'middle', 'vertical-align': 'top'});
            canvas2.drawShape(null, edgeShape6, null, {'edge-type': 'plain', "arrow-start": "none", "arrow-end": "block-wide-long", 'stroke-dasharray': '--'});
            canvas2.drawShape(null, edgeShape7, null, {'edge-type': 'straight', "arrow-start": "none", "arrow-end": "block-wide-long", 'stroke-dasharray': '--..'});
            canvas2.drawShape([800, 350], group1, [200, 100], {stroke: 'black'});
            canvas2.drawShape([800, 500], foreignShape1, [200, 100]);
        }

        function loadToCanvas1() {
            var graphJSON = '{"opengraph":{"@width":1024,"@height":768,"cell":[{"@id":"OG_9325_1","@shapeType":"GROUP","@shapeId":"OG.shape.HorizontalLaneShape","@x":470,"@y":220,"@width":300,"@height":100,"@from":"","@to":"","@label":"gwe","@geom":"%7Btype%3A%27Rectangle%27%2CupperLeft%3A%5B320%2C170%5D%2Cwidth%3A300%2Cheight%3A100%2Cangle%3A0%7D"},{"@id":"OG_9325_9","@parent":"OG_9325_1","@shapeType":"GEOM","@shapeId":"OG.shape.bpmn.A_Task","@x":445,"@y":215,"@width":70,"@height":50,"@from":"","@to":"","@label":"%28ConferenceSetting.java%29","@geom":"%7Btype%3A%27Rectangle%27%2CupperLeft%3A%5B410%2C190%5D%2Cwidth%3A70%2Cheight%3A50%2Cangle%3A0%7D","@data":"%5B%7B%22customId%22%3A%22%22%2C%22customName%22%3A%22test/ConferenceSetting.java%22%2C%22customType%22%3A%22class%22%7D%5D"}]}}';
            if (canvas1) {
                canvas1.loadJSON($.parseJSON(graphJSON));
            }
        }

        function loadToCanvas2() {
            var graphJSON = '{"opengraph":{"@width":1024,"@height":768,"cell":[{"@id":"OG_9325_1","@shapeType":"GROUP","@shapeId":"OG.shape.HorizontalLaneShape","@x":470,"@y":220,"@width":300,"@height":100,"@from":"","@to":"","@label":"gwe","@geom":"%7Btype%3A%27Rectangle%27%2CupperLeft%3A%5B320%2C170%5D%2Cwidth%3A300%2Cheight%3A100%2Cangle%3A0%7D"},{"@id":"OG_9325_9","@parent":"OG_9325_1","@shapeType":"GEOM","@shapeId":"OG.shape.bpmn.A_Task","@x":445,"@y":215,"@width":70,"@height":50,"@from":"","@to":"","@label":"%28ConferenceSetting.java%29","@geom":"%7Btype%3A%27Rectangle%27%2CupperLeft%3A%5B410%2C190%5D%2Cwidth%3A70%2Cheight%3A50%2Cangle%3A0%7D","@data":"%5B%7B%22customId%22%3A%22%22%2C%22customName%22%3A%22test/ConferenceSetting.java%22%2C%22customType%22%3A%22class%22%7D%5D"}]}}';
            if (canvas2) {
                canvas2.loadJSON($.parseJSON(graphJSON));
            }
        }

        function removeCanvas1() {
            canvas1 = null;
            $('#canvas1').remove();
        }

        function removeCanvas2() {
            canvas2 = null;
            $('#canvas2').remove();
        }
    </script>
</head>
<body oncontextmenu="return false">
<div>
    <div style="width: 950px; background-color: #c3d5ed;">
        <input type="button" value="removeCanvas1" onclick="removeCanvas1();"/>
        <input type="button" value="removeCanvas2" onclick="removeCanvas2();"/>
        <input type="button" value="loadToCanvas1" onclick="loadToCanvas1();"/>
        <input type="button" value="loadToCanvas2" onclick="loadToCanvas2();"/>
    </div>
    <br/>

    <div id="canvas1" class="contents" style="overflow:auto; width: 950px; height: 300px;">
    </div>
    <br/>

    <div id="canvas2" class="contents" style="overflow:auto; width: 950px; height: 300px;">
    </div>
</div>
</body>
</html>